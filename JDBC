import java.sql.*;
public class Driver {
	// JDBC driver name and database URL
	   static final String DB_URL = "jdbc:mysql://localhost:3306/cs157a";  
	
	   //  Database credentials
	   static final String USER = "root";
	   static final String PASS = "....";
	   private static Connection conn = null;
	   private static Statement statement = null;
	public static void main(String[] args)
	{
		try
		{	
			// create a connection to database
			conn = DriverManager.getConnection(DB_URL,USER, PASS);
			// create a statement object to execute sql commands
			statement = conn.createStatement();
			// get results from executing a sql command
			printUserTable();
			
			
//			statement.executeUpdate("insert into user values('matsmhere', '12345', false)");
//			System.out.println("Just added matsmhere username");
//			printUserTable();
			
			dropUsertable();
			System.out.println("Just dropped user table");
			printUserTable();
//			createTable();
		}
		catch(Exception e)
		{
			System.out.print(e.getMessage());
		}
	}
	
	private static void dropUsertable() throws SQLException
	{
		String queryDrop = "DROP TABLE IF EXISTS User";
	    Statement stmtDrop = conn.createStatement();
	    stmtDrop.execute(queryDrop);
	}
	private static void printUserTable() throws SQLException
	{
		ResultSet rs2 = statement.executeQuery("select * from user");
		while(rs2.next())
		{
			System.out.println("Username: " + rs2.getString("username") + ", password: " + rs2.getString("password"));
		}
	}
	
	private static void createTable() throws SQLException
	{
	      // Open a connection and select the database named CS
	      
	      System.out.println("Connecting to database...");
	      conn = DriverManager.getConnection(DB_URL, USER, PASS);
	      statement = conn.createStatement();
	      
	    String queryDrop = "DROP TABLE IF EXISTS RecreationCenter";
	    Statement stmtDrop = conn.createStatement();
	    stmtDrop.execute(queryDrop);


	      String createTableSQL = "create table RecreationCenter(recCenterId INT PRIMARY KEY, name VARCHAR(30), rentalPricePerHour INT)";
	      statement.execute(createTableSQL); 
	      System.out.println("Table called RecreationCenter created successfully...");

	}
	
	/*
	 * 
			
	 */
}
